# create-react-app with a Express server


## Design Points

A combo of two npm projects, the backend server and the frontend UI. So there are two `package.json` configs.

  1. [`package.json`](package.json) for [Express server](server/) & [Heroku deploy](https://devcenter.heroku.com/categories/deployment)
      * `heroku-postbuild` script compiles the webpack bundle during deploy
      * `cacheDirectories` includes `react/node_modules/` to optimize build time
  2. [`react/package.json`](react/package.json) for [React web ](react/)
      * generated by [create-react-app](https://github.com/facebookincubator/create-react-app)


## Deploy to Heroku

```bash
cd Webdashboard/
git init
heroku create // Ignore this step if you have already generated it from Heroku Dashboard
git remote add origin https://git.heroku.com/<AppName>.git
git add .
git commit -m "Your Message Here"
git push heroku master
```

This deployment will automatically:

  * detect [Node buildpack](https://elements.heroku.com/buildpacks/heroku/heroku-buildpack-nodejs)
  * build the app with
    * `npm install` for the Node server
    * `heroku-postbuild` for create-react-app
  * launch the web process with `npm start`
    * serves `../react/build/` as static files
    * customize by adding API, proxy, or route handlers/redirectors

‚ö†Ô∏è Using npm 5‚Äôs new `package-lock.json`? We resolved a compatibility issue.

üëì More about [deploying to Heroku](https://devcenter.heroku.com/categories/deployment).



## Local Development

### Run the API Server

In a terminal:

```bash
# Initial setup
npm install

# Start the server
npm start
```


### Run the React App

The React app is configured to proxy backend requests to the local Express server , that you need to update url in 

```bash
cd react/src/services

apiConfig.js

#update it according to your Apiserver details

```

In a separate terminal from the API server, start the UI:

```bash
# Always change directory, first
cd react/

# Initial setup
npm install

# Start the server
npm start
```
